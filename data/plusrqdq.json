[{"$truecolor": { "id": "root",
	"sRGB": false,
	"program": "IQ",
	"gpu": {"$gpu": {
		"targetSize": "globals:windowSize",
		"layers": ["lEffects"]
	}}}},

{"$computedVec3": {
	"id": "backgroundColor",
	"code": "{pow(128/255.0, 2.2333), pow(128/255.0, 2.2333), pow(128/255.0, 2.333)}"}},

{"$layer": { "id": "lEffects",
	"camera": "fixedCamera",
	"color": "backgroundColor",
	"gl": [ "sceneGeo" ]}},

{"$translate": {"id": "debugGl",
	"translate": {"$vec3": {"x": 1, "y": 1, "z": 0}},
	"scale": {"$vec3": {"x": 1, "y": 1, "z": 1}},
	"gl": {"$depthDebug": {}}}},

{"$perspective": { "id": "fixedCamera",
	"position": {"$vec3": {"x": 0, "y": 0, "z": 130}},
	"h": 3.14159, "v": 0.0,
	"fov": 45.0}},

{"$group": {"id": "sceneGeo",
	"gl": ["plusRoom", "rqdq", "myLight"]}},

{"$translate": {"id": "myLight",
	"translate": {"$computedVec3": {
		"inputs": [{"name": "t", "type": "real", "source": "globals:wallclock"}],
		"code": "{ 0, sin(t*1.872398)*6, 140+sin(t)*12}"}},
	"gl": {"$translate": {
		"rotate": {"$computedVec3": {
			"inputs": [{"name": "t", "type": "real", "source": "globals:wallclock"}],
			"code": "{0, 0, 0}"}},
		"gl": {"$group": {
			"gl": ["spot", "spotCone"]}}}}}},

{"$spot": {"id": "spot", "size": 1024, "angle": 70.0}},
{"$fxFoo": {"id": "spotCone", "name": "cone.obj", "material": "mWire"}},

{"$translate": {"id": "rqdq",
	"translate": {"$vec3": {"x": 0, "y": 0, "z": 0}},
	"rotate": {"$computedVec3": {
		"inputs": [{"name": "t", "type": "real", "source": "globals:wallclock"}],
		"code": "{(sin(t)+1)/8-.125, (sin(t)+1)/8-.125, 0}"}},
	"gl": {"$translate": {
		"translate": {"$vec3": {"x": 0, "y": -24, "z": 0}},
		"rotate": {"$vec3": {"x": 0.25, "y": 0, "z": 0}},
		"scale": {"$computedVec3": {
			"inputs": [{"name": "t", "type": "real", "source": "globals:wallclock"}],
			"code": "{ 2.2, 2.2, 2.2 }"}},
		"gl": {"$fxFoo": {
			"name": "rqdqoutline.obj",
			"material": "mObjPixelLight"}}}}}},

{"$translate": {"id": "plusRoom",
	"translate": {"$vec3": {"x": 0, "y": 0, "z": 0}},
	"rotate": {"$computedVec3": {
		"inputs": [{"name": "t", "type": "real", "source": "globals:wallclock"}],
		"code": "{0, max(frac(t*1.36), 0.5)*1, (sin(t/1)+1)/8-.125}"}},
	"gl": {"$fxFoo": {
		"name": "room1.obj",
		"material": "mObjPixelLight"}}}},

{"$material": {"id": "mWire", "program": "Wireframe"}},
{"$material": {"id": "mObjVertexLight", "program": "OBJ1"}},
{"$material": {"id": "mObjPixelLight", "program": "OBJ2"}} ]
